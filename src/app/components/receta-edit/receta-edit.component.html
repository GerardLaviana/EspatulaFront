<div class="padre-form">
    <form #fRece="ngForm" (ngSubmit)="guardarReceta(fRece)">
        <div class="left-form">
            <div class="form-group row">
                <label class="col-2 col-form-label" for="nombre">Nombre de la Receta:</label>
                <div class="col-8">
                    <input type="text" class="form-control" id="nombre" name="nombre" [(ngModel)]="recetaEdit.nombre" required/>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label" for="duracion">Duración (minutos):</label>
                <div class="col-8">
                    <input class="form-control" type="number" min="0" step="5" placeholder="5" id="duracion" name="duracion" [(ngModel)]="recetaEdit.duracion" required />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label" for="dificultad">Dificultad: </label>
                <div class="col-8">
                    <select class="form-control" id="dificultad" name="dificultad" [(ngModel)]="recetaEdit.dificultad" required>
                        <option value="" disabled selected>--Selecciona una dificultad--</option>
                        <option value="Fácil">Fácil</option>
                        <option value="Media">Media</option>
                        <option value="Difícil">Difícil</option>
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label" for="tipo">Tipo:</label>
                <div class="col-8">
                    <select class="form-control" id="tipo" name="tipo" [(ngModel)]="recetaEdit.tipo" required>
                        <option value="" disabled selected>--Selecciona un tipo--</option>
                        <option value="Desayuno">Desayuno</option>
                        <option value="Almuerzo">Almuerzo</option>
                        <option value="Cena">Cena</option>
                        <option value="Aperitivo">Aperitivo</option>
                        <option value="Postre">Postre</option>
                        <option value="Comida Rápida">Comida Rápida</option>
                        <option value="Bebida">Bebida</option>
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label" for="origen">Origen:</label>
                <div class="col-8">
                    <input class="form-control" type="text" placeholder="España" id="origen" name="origen" [(ngModel)]="recetaEdit.origen" required/>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label" for="pasos">Pasos a seguir:</label>
                <div class="col-8">
                    <textarea class="form-control" style="resize: none;" type="text" placeholder="Describe los pasos a seguir para la realización de la Receta" id="pasos" name="pasos" [(ngModel)]="recetaEdit.instrucciones" required ></textarea>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label">Ingredientes</label>
                <div class="col-8">
                    <div *ngIf="ingreConCantidadArray.length > 0">
                        <div style="display: flex;" *ngFor=" let ingreCanti of ingreConCantidadArray">
                            <p>{{ingreCanti.nombre}} {{ingreCanti.cantidad}} {{ingreCanti.unidadMedida}}</p>
                            <button class="btn btn-danger" (click)="eliminarIngreConCantidad(ingreCanti)"><i class="fa-solid fa-trash-can"></i></button>
                        </div>
                    </div>
                    <form #f="ngForm" class="form" (ngSubmit)="nuevoIngreConCantidad(f)" novalidate>
                        <div class="form-group">
                            <select class="form-control" id="ingreID" name="ingreID" [(ngModel)]="ingreID" required>
                                <option value="" disabled selected>--Selecciona un ingrediente--</option>
                                <option *ngFor=" let ingreSelect of ingreAll" value="{{ingreSelect.id}}">{{ingreSelect.nombre}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="cantidad">Cantidad</label>
                            <input type="number" name="cantidad" class="form-control" id="cantidad" required [(ngModel)]="ingreCantidad">
                        </div>
                        <div class="form-group">
                            <label for="medida">Unidad de medida:</label>
                            <select class="form-control" id="medida" name="medida" [(ngModel)]="ingreMedida" required>
                                <option value="ml">ml</option>
                                <option value="oz">oz</option>
                                <option value="L">Litros</option>
                                <option value="g">gramos</option>
                                <option value="Kg">Kg</option>
                                <option value="Unidades" selected>Unidades</option>
                            </select>
                        </div>
                        <div class="form-group button-login">
                            <button class="btn">Añadir</button>
                        </div>
                    </form>
                    <p *ngIf="ingreVacio">Error! Introduce completamente el ingrediente que quieres añadir</p>
                </div>
            </div>
        </div>
        <div class="right-form">
            <ngx-dropzone (change)="onSelect($event)">
                <ngx-dropzone-label>Drop it, baby!</ngx-dropzone-label>
                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of imagenes" [file]="f" [removable]="true" (removed)="onRemove(f)">
                    <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                </ngx-dropzone-image-preview>
            </ngx-dropzone>
            <button class="btn" (click)="subirImagen()">Subir Imagen</button>
        <button type="submit">ACTUALIZAR RECETA</button>
        </div>
    </form>
</div>